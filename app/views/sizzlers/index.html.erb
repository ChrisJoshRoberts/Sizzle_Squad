<div class="banner">
  <%#= image_tag "Braai/clint-bustrillos-3_M4NxDo89A-unsplash.jpg"%>
  <div class="inner-banner-container">
    <div class="banner-items" data-controller="search-swap">
      <div data-search-swap-target="form1" class="d-none">
      <h2>Enter search radius in kilometers</h2>
        <%= form_with(url: nearby_sizzlers_path, method: :get, class: "d-flex") do %>
          <%= number_field_tag :radius, params[:radius], class: "form-control" %>
          <%= submit_tag "Search", class: "btn btn-primary" %>
          <button class="search-type" data-action="click->search-swap#radius"><svg class="svg" fill="#000000" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M444.542,250.295h-82.645v94.981H223.266l25.164-25.164l-58.916-58.916L64.112,386.598L189.514,512l58.915-58.916 l-25.164-25.164h221.277V250.295z M428.384,411.762H184.257l41.322,41.322l-36.064,36.064L86.963,386.598l102.551-102.551 l36.064,36.064l-41.322,41.322h193.8v-94.981h50.328V411.762z"></path> </g> </g> <g> <g> <rect x="145.811" y="371.839" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -253.4735 232.4792)" width="16.158" height="100.741"></rect> </g> </g> <g> <g> <path d="M322.486,0l-58.916,58.916l25.164,25.164H67.458v177.626h82.645v-94.981h138.632l-25.164,25.164l58.916,58.915 l125.402-125.402L322.486,0z M322.486,227.952l-36.064-36.064l41.322-41.322h-193.8v94.981H83.616V100.238h244.128l-41.322-41.322 l36.064-36.064l102.551,102.551L322.486,227.952z"></path> </g> </g> <g> <g> <rect x="350.018" y="39.412" transform="matrix(0.7071 -0.7071 0.7071 0.7071 41.3975 279.5088)" width="16.158" height="100.741"></rect> </g> </g> </g></svg></button>
        <% end %>
      </div>
      <div data-search-swap-target="form2">
        <h2>What type of braai are you in the mood for?</h2>
        <%= form_with url: sizzlers_path, method: :get, class: "d-flex" do %>
          <%= text_field_tag :query,
                params[:query],
                class: "form-control",
                placeholder: "Type a keyword"
            %>
          <%= submit_tag "Search", name: "", class: "btn btn-primary" %>
          <button class="search-type" data-action="click->search-swap#radius"><svg fill="#000000" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M444.542,250.295h-82.645v94.981H223.266l25.164-25.164l-58.916-58.916L64.112,386.598L189.514,512l58.915-58.916 l-25.164-25.164h221.277V250.295z M428.384,411.762H184.257l41.322,41.322l-36.064,36.064L86.963,386.598l102.551-102.551 l36.064,36.064l-41.322,41.322h193.8v-94.981h50.328V411.762z"></path> </g> </g> <g> <g> <rect x="145.811" y="371.839" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -253.4735 232.4792)" width="16.158" height="100.741"></rect> </g> </g> <g> <g> <path d="M322.486,0l-58.916,58.916l25.164,25.164H67.458v177.626h82.645v-94.981h138.632l-25.164,25.164l58.916,58.915 l125.402-125.402L322.486,0z M322.486,227.952l-36.064-36.064l41.322-41.322h-193.8v94.981H83.616V100.238h244.128l-41.322-41.322 l36.064-36.064l102.551,102.551L322.486,227.952z"></path> </g> </g> <g> <g> <rect x="350.018" y="39.412" transform="matrix(0.7071 -0.7071 0.7071 0.7071 41.3975 279.5088)" width="16.158" height="100.741"></rect> </g> </g> </g></svg></button>
        <% end %>
      </div>
    </div>
  </div>
</div>

<div class="sizzle-container">
  <% photos_array = ["braai-1.jpg", "braai-2.jpg", "braai-3.jpg","braai-4.jpg", "braai-5.jpg", "braai-6.jpg", "braai-7.jpg", "braai-8.jpg","braai-9.jpg","braai-10.jpg"] %>
  <% @sizzlers.each_with_index do |sizzler, index| %>
  <div class="card-sizzle">
    <div class="card-img">
      <% if sizzler.photos.present? %>
        <%= cl_image_tag sizzler.photos.first.key, class: "card-photo"%>
      <% else %>
        <%= image_tag( photos_array.sample, class: "card-photo") %>
      <% end %>
    </div>
    <div class="card-info">
      <div class="title">
        <% if @user && @user.owned_sizzlers.include?(sizzler) && @user.photo.present?%>
          <%= cl_image_tag @user.photo.key, class: "icon-flame" %>
        <% else %>
          <%= image_tag("sizzle_icon.png", class: "icon-flame") %>
        <% end %>
        <h1><%= sizzler.title %></h1>
      </div>
      <p><strong>Location:</strong> <%= sizzler.location %></p>
      <p><strong>Cooking style:</strong> <%= sizzler.cooking_style%></p>
      <p><strong>Price:</strong> <%= sizzler.price %></p>
      <p><strong>Speciality:</strong> <%= sizzler.speciality %></p>
      <%= link_to "View", sizzler_path(sizzler), class: "btn btn-outline-primary rounded w-100" %>
    </div>
  </div>
  <% end %>
</div>
